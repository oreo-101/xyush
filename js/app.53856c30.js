(function(){"use strict";var e={3959:function(e,t,n){var a=n(9242),o=n(3396);function s(e,t,n,a,s,r){const i=(0,o.up)("NavBar"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i),(0,o.Wm)(u)],64)}n(1703);const r=Symbol("USER_MANAGER_KEY"),i=e=>{const t=(0,o.f3)(e);if(!t)throw new Error("cannot find provided key: "+e);return t};var u=n(2482),l=n(6265),c=n.n(l);const p="???",d=c().create({baseURL:p});var m=d;function g(e){return"/api"+("/"===e.charAt(0)?"":"/")+e}var v={POSTINGS_API:g("/post/all"),POSTS_CREATE:g("/post/create"),SIGN_IN:g("/auth/signin"),SIGN_UP:g("/auth/signup"),AUTH_TEST:g("/auth/test")};const h=e=>m.post(v.SIGN_IN,e),f=e=>m.post(v.SIGN_UP,e),w=()=>m.get(v.AUTH_TEST);var _=n(4870);class k{constructor(){(0,u.Z)(this,"username",(0,_.iH)("")),(0,u.Z)(this,"email",(0,_.iH)("")),(0,u.Z)(this,"id",(0,_.iH)(-1)),(0,u.Z)(this,"roles",(0,_.iH)([])),(0,u.Z)(this,"error",(0,_.iH)("")),(0,u.Z)(this,"token",(0,_.iH)("")),(0,u.Z)(this,"isSignedIn",(0,o.Fl)((()=>""!==this.username.value&&""===this.error.value)))}login(e){return h(e).then((e=>{this.username.value=e.data.username,this.email.value=e.data.email,this.id.value=e.data.id,this.roles.value=e.data.roles,this.token.value=e.data.token})).catch((e=>{throw 401===e.response?.status&&(console.log("Not authorized"),this.error.value="Not authorized"),e}))}}const y=(0,o.Uk)("Home"),b={key:0},I=(0,o.Uk)(" | "),U=(0,o.Uk)("Login Page"),S={key:1},T=(0,o.Uk)(" | "),D=(0,o.Uk)("Singup Page"),P={key:2},Z=(0,o.Uk)(" | "),H=(0,o.Uk)("My Details");function C(e,t,n,a,s,r){const i=(0,o.up)("router-link");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("span",null,[(0,o.Wm)(i,{to:{name:"Home"}},{default:(0,o.w5)((()=>[y])),_:1})]),e.isSignedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",b,[I,(0,o.Wm)(i,{to:{name:"Login"}},{default:(0,o.w5)((()=>[U])),_:1})])),e.isSignedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",S,[T,e.isSignedIn?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(i,{key:0,to:{name:"Signup"}},{default:(0,o.w5)((()=>[D])),_:1}))])),e.isSignedIn?((0,o.wg)(),(0,o.iD)("span",P,[Z,e.isSignedIn?((0,o.wg)(),(0,o.j4)(i,{key:0,to:{name:"MyInfo"}},{default:(0,o.w5)((()=>[H])),_:1})):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])}var x=(0,o.aZ)({name:"NavBar",setup(){const e=i(r);return{isSignedIn:e.isSignedIn}}}),A=n(89);const O=(0,A.Z)(x,[["render",C]]);var V=O,M=(0,o.aZ)({name:"App",components:{NavBar:V},setup(){(0,o.JJ)(r,new k)}});const N=(0,A.Z)(M,[["render",s]]);var z=N,E=n(678);const j={class:"hello"},R=(0,o.Uk)(" Hello world page ");function W(e,t,n,a,s,r){const i=(0,o.up)("PostingsView");return(0,o.wg)(),(0,o.iD)("div",j,[R,(0,o.Wm)(i)])}var F=n(7139);const L=(0,o.Uk)(" All posts: "),G=(0,o._)("br",null,null,-1);function q(e,t,n,a,s,r){const i=(0,o.up)("CreatePostForm"),u=(0,o.up)("PostItem");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(i),(0,o._)("div",null,[L,G,(0,o._)("div",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.posts.data,(e=>((0,o.wg)(),(0,o.j4)(u,{key:e.id,data:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,F.zw)(e),1)])),_:2},1032,["data"])))),128))])])])}const Y=e=>{const t=(0,_.iH)({data:[]});return m.get(v.POSTINGS_API,{headers:{Authorization:e.token.value}}).then((e=>e.data)).then((e=>{t.value.data=e})).catch((e=>console.error(e))),t},K=e=>t=>m.post(v.POSTS_CREATE,t,{headers:{Authorization:e.token.value}}),$={class:"container"},B={class:"form"},J={class:"input-group"},Q=(0,o._)("div",{class:"label"},"Create a new post",-1);function X(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)("div",$,[(0,o._)("div",B,[(0,o._)("form",{onSubmit:t[2]||(t[2]=(0,a.iM)((()=>{}),["prevent"]))},[(0,o._)("div",J,[Q,(0,o.wy)((0,o._)("textarea",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.content=t),type:"text",placeholder:"Content..."},null,512),[[a.nr,e.content]])]),(0,o._)("button",{type:"submit",onClick:t[1]||(t[1]=(...t)=>e.createPost&&e.createPost(...t))},"Create Post")],32)])])}var ee=(0,o.aZ)({name:"CreatePostForm.ts.vue",setup(){const e=(0,_.iH)(""),t=i(r),n=K(t),a=()=>{n(e.value).then((e=>{e.data})).catch((e=>{console.log(e)}))};return{content:e,createPost:a}}});const te=(0,A.Z)(ee,[["render",X]]);var ne=te;const ae={class:"postContainer"};function oe(e,t,n,a,s,r){const i=(0,o.up)("UserTagTsVue");return(0,o.wg)(),(0,o.iD)("div",ae,[(0,o._)("div",null,[(0,o.Uk)((0,F.zw)(e.postData.id)+" ",1),(0,o.Wm)(i,{data:e.postData.user},null,8,["data"]),(0,o.Uk)(" "+(0,F.zw)(e.postData.createdAt),1)]),(0,o._)("div",null,(0,F.zw)(e.postData.content),1)])}const se={class:"container"};function re(e,t,n,a,s,r){const i=(0,o.up)("TagTsVue");return(0,o.wg)(),(0,o.iD)("div",se,[(0,o.Uk)((0,F.zw)(e.userViewData.username)+" ",1),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.userViewData.roles,(t=>((0,o.wg)(),(0,o.j4)(i,{key:t.id,text:e.trimRole(t.name)},null,8,["text"])))),128))])}function ie(e,t,n,a,s,r){return(0,o.wg)(),(0,o.iD)("span",{style:(0,F.j5)(e.styles),class:"tag"},[(0,o.Uk)((0,F.zw)(e.text),1),(0,o.WI)(e.$slots,"default",{},void 0,!0)],4)}function ue(e){if(!e)return[0,0,0];let t=0;for(var n=0;n<e.length;n++)t<<=2,t+=e.charCodeAt(n),t%=16581375;let a=t%255,o=t/255%255,s=t/255/255%255;return[a,o,s].map((e=>e>150?e:255-e))}function le([e,t,n]){return`rgb(${e}, ${t}, ${n})`}var ce=(0,o.aZ)({name:"TagComp",props:{text:{type:String}},setup(e){return{styles:{backgroundColor:le(ue(e.text))}}}});const pe=(0,A.Z)(ce,[["render",ie],["__scopeId","data-v-3a79badd"]]);var de=pe;function me(e){return e.substring(5)}var ge=(0,o.aZ)({name:"TagComp",props:{data:{type:Object}},components:{TagTsVue:de},setup(e){return{userViewData:e.data,trimRole:me}}});const ve=(0,A.Z)(ge,[["render",re],["__scopeId","data-v-05b4664a"]]);var he=ve,fe=(0,o.aZ)({name:"PostItem",props:{data:{type:Object}},components:{UserTagTsVue:he},setup(e){return{postData:e.data}}});const we=(0,A.Z)(fe,[["render",oe],["__scopeId","data-v-4a493d12"]]);var _e=we,ke=(0,o.aZ)({name:"PostingsView",components:{CreatePostForm:ne,PostItem:_e},setup(){const e=i(r),t=Y(e);return{isSignedIn:e.isSignedIn,posts:t}}});const ye=(0,A.Z)(ke,[["render",q]]);var be=ye,Ie=(0,o.aZ)({name:"HelloWorld",props:{msg:String},components:{PostingsView:be},setup(){return w().then((e=>{console.log(e)})),{posts:[]}}});const Ue=(0,A.Z)(Ie,[["render",W],["__scopeId","data-v-0e0de8d2"]]);var Se=Ue;const Te=e=>((0,o.dD)("data-v-06c8ea7a"),e=e(),(0,o.Cn)(),e),De={class:"container"},Pe=Te((()=>(0,o._)("h1",{class:"heading"},"Signup Form",-1))),Ze={class:"singup-form"},He={class:"input-group"},Ce=Te((()=>(0,o._)("div",{class:"label"},"User Name",-1))),xe={class:"input-group"},Ae=Te((()=>(0,o._)("div",{class:"label"},"Email",-1))),Oe={class:"input-group"},Ve=Te((()=>(0,o._)("div",{class:"label"},"Password",-1)));function Me(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)("div",De,[Pe,(0,o.Uk)(" "+(0,F.zw)(e.notification)+" ",1),(0,o._)("div",Ze,[(0,o._)("div",He,[Ce,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.username=t),type:"text",placeholder:"username"},null,512),[[a.nr,e.username]])]),(0,o._)("div",xe,[Ae,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.email=t),type:"text",placeholder:"email"},null,512),[[a.nr,e.email]])]),(0,o._)("div",Oe,[Ve,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[2]||(t[2]=t=>e.password=t),type:"text",placeholder:"password"},null,512),[[a.nr,e.password]])]),(0,o._)("button",{type:"submit",onClick:t[3]||(t[3]=(...t)=>e.register&&e.register(...t))},"Signup")])])}var Ne=(0,o.aZ)({name:"SingupForm",setup(){const e=(0,_.iH)(""),t=(0,_.iH)(""),n=(0,_.iH)(""),a=(0,_.iH)(""),o=()=>{const o=new Set;o.add("ROLE_USER");const s={username:e.value,email:t.value,password:n.value,roles:o};f(s).then((e=>{a.value=e.data})).catch((e=>{a.value=e}))};return{username:e,email:t,password:n,notification:a,register:o}}});const ze=(0,A.Z)(Ne,[["render",Me],["__scopeId","data-v-06c8ea7a"]]);var Ee=ze;const je=e=>((0,o.dD)("data-v-606afdda"),e=e(),(0,o.Cn)(),e),Re={class:"container"},We=je((()=>(0,o._)("h1",{class:"heading"},"Login Form",-1))),Fe={class:"singup-form"},Le={class:"input-group"},Ge=je((()=>(0,o._)("div",{class:"label"},"User Name",-1))),qe={class:"input-group"},Ye=je((()=>(0,o._)("div",{class:"label"},"Password",-1)));function Ke(e,t,n,s,r,i){return(0,o.wg)(),(0,o.iD)("div",Re,[We,(0,o.Uk)(" "+(0,F.zw)(e.notification)+" ",1),(0,o._)("div",Fe,[(0,o._)("form",{onSubmit:t[3]||(t[3]=(0,a.iM)((()=>{}),["prevent"]))},[(0,o._)("div",Le,[Ge,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.usernameInput=t),type:"text",placeholder:"username"},null,512),[[a.nr,e.usernameInput]])]),(0,o._)("div",qe,[Ye,(0,o.wy)((0,o._)("input",{"onUpdate:modelValue":t[1]||(t[1]=t=>e.passwordInput=t),type:"text",placeholder:"password"},null,512),[[a.nr,e.passwordInput]])]),(0,o._)("button",{type:"submit",onClick:t[2]||(t[2]=(...t)=>e.loginUser&&e.loginUser(...t))},"Login")],32)])])}var $e=(0,o.aZ)({name:"LoginForm",setup(){const e=(0,E.yj)(),t=e.params?.next,n=(0,_.iH)(""),a=(0,_.iH)(""),o=(0,_.iH)(""),s=i(r),u=()=>{s.login({username:n.value,password:a.value}).then((()=>{t&&!(0,F.kJ)(t)?rt.push({name:t}):rt.push({name:"MyInfo"})}))};return{usernameInput:n,passwordInput:a,notification:o,loginUser:u}}});const Be=(0,A.Z)($e,[["render",Ke],["__scopeId","data-v-606afdda"]]);var Je=Be;const Qe=(0,o.Uk)("Roles: "),Xe={id:"test"};function et(e,t,n,a,s,r){const i=(0,o.up)("TagTsVue");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("h1",null,"Hello "+(0,F.zw)(e.userManager.username.value),1),(0,o._)("div",null,[(0,o._)("div",null,"UserName: "+(0,F.zw)(e.userManager.username.value),1),(0,o._)("div",null,"Email: "+(0,F.zw)(e.userManager.email.value),1),(0,o._)("div",null,[Qe,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.userManager.roles.value,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e},[(0,o.Wm)(i,{text:e},null,8,["text"])])))),128))])]),(0,o._)("div",Xe,[(0,o._)("button",{onClick:t[0]||(t[0]=t=>e.apiTestAll())},"api test all"),(0,o._)("button",{onClick:t[1]||(t[1]=t=>e.apiTestUser())},"api test user"),(0,o._)("button",{onClick:t[2]||(t[2]=t=>e.apiTestMod())},"api test mod"),(0,o._)("button",{onClick:t[3]||(t[3]=t=>e.apiTestAdmin())},"api test admin")])])}var tt=(0,o.aZ)({name:"MyInfoPage",props:{msg:String},components:{TagTsVue:de},setup(){const e=i(r);e.username.value||rt.push({name:"Login",params:{next:"MyInfo"}});const t=()=>{m.get("/api/test/all").then((e=>console.log(e.data))).catch((e=>console.log(e)))},n=()=>{m.get("/api/test/user",{headers:{Authorization:e.token.value}}).then((e=>console.log(e.data))).catch((e=>console.log(e)))},a=()=>{m.get("/api/test/mod").then((e=>console.log(e.data))).catch((e=>console.log(e)))},o=()=>{m.get("/api/test/admin").then((e=>console.log(e.data))).catch((e=>console.log(e)))};return{userManager:e,apiTestAll:t,apiTestUser:n,apiTestMod:a,apiTestAdmin:o}}});const nt=(0,A.Z)(tt,[["render",et]]);var at=nt;const ot=[{path:"/",name:"Home",component:Se},{path:"/signup",name:"Signup",component:Ee},{path:"/login",name:"Login",component:Je},{path:"/my",name:"MyInfo",component:at}],st=(0,E.p7)({history:(0,E.PO)(),routes:ot});var rt=st;(0,a.ri)(z).use(rt).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a](s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],s=e[c][2];for(var i=!0,u=0;u<a.length;u++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(i=!1,s<r&&(r=s));if(i){e.splice(c--,1);var l=o();void 0!==l&&(t=l)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],i=a[1],u=a[2],l=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(u)var c=u(n)}for(t&&t(a);l<r.length;l++)s=r[l],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},a=self["webpackChunkapp"]=self["webpackChunkapp"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(3959)}));a=n.O(a)})();
//# sourceMappingURL=app.53856c30.js.map